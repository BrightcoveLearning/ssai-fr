---
title: 'Mise en œuvre des améliorations du lecteur pour Live SSAI' Description : Dans cette rubrique, vous apprendrez à créer un flux en direct avec des publicités côté serveur qui utilise les améliorations du lecteur pour Live SSAI pour une expérience utilisateur améliorée.
parent: Live
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Introduction">Introduction</h2> 

<p>Les améliorations du lecteur pour le SSAI en direct de Brightcove vous permettent d'améliorer les pauses publicitaires dans les flux en direct avec le nombre d'annonces, les minuteries de compte à rebours, les annonces de clics et les annonces complémentaires.</p>

<p>Les informations de votre annonce sont spécifiées à l'aide d'une configuration d'annonce qui récupère les réponses VAST afin d'identifier les annonces à afficher. Le fichier VAST contient également des informations sur les annonces compagnons et les URL de balise.</p>

<aside class="bcls-aside bcls-aside--information"> Actuellement, cette fonctionnalité n'est disponible que pour les régions suivantes :
  <ul>
    <li>ap-southeast-1 (Singapour)</li>
    <li>ap-sud-ast-2 (Sydney)</li>
    <li>ap-nord-est 1 (Tokyo)</li>
    <li>eu-central-1 (Francfort)</li>
    <li>us-west-2 (Oregon)</li>
  </ul>
   Pour obtenir une vue d'ensemble de haut niveau et d'autres limitations, reportez-vous à l' <a href="https://ssai.support.brightcove.com/live/guides/overview-player-enhancements-live-ssai.html">aperçu : Améliorations du lecteur pour le</a> document SSAI Live. </aside>
</section>

<section class="bcls-section">
<h2 id="Workflow">Workflow</h2>

<p>Pour créer un flux en direct avec SSAI et améliorations du lecteur, procédez comme suit :</p>

<ol class="bcls-tasklist">
	<li>Demandez à votre gestionnaire de compte d'activer votre compte pour les flux en direct, l'insertion d'annonces côté serveur (SSAI) et les Améliorations du lecteur pour Live SSAI.</li>
	<li><a href="#Create_an_ad_configuration">Créer une configuration d'annonce</a></li>
	<li>Facultatif : <a href="https://live.support.brightcove.com/live-api/ssai/live-api-server-side-ad-insertion-ssai.html#Managing_slates">Créer des actifs d'ardoise pour remplir le temps publicitaire inutilisé</a></li>
	<li><a href="#Create_a_live_job">Créer un travail en direct</a></li>
	<!-- <li><a href="#Create_a_remote_video">Create a remote video</a></li> -->
	<li><a href="#Create_the_playback_token">Créer le jeton de lecture</a></li>
  <li><a href="#Configure_the_player">Configurer le lecteur</a></li>
	<li><a href="#Begin_streaming">Commencer le streaming</a></li>
	<li><a href="https://live.support.brightcove.com/live-api/ssai/live-api-cue-points-and-ad-beacons-ssai.html">Déclencher des annonces en utilisant des points de repère</a> (cela peut être fait avant ou pendant l'événement en direct)</li>
	<li><a href="#Cleanup">Nettoyage</a></li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Create_an_ad_configuration">Créer une configuration d'annonce</h2>

<p>Une configuration d'annonce définit les informations nécessaires pour inclure des annonces côté serveur dans un flux en direct. Cela inclut l'URL du fournisseur d'annonces, le type de réponse attendue et l'envoi de balises.</p>

<aside class="bcls-aside bcls-aside--information"> Remarques :
  <ul>
    <li>Les identifiants de configuration d'annonce de Video Cloud ne peuvent pas être utilisés directement pour Live SSAI</li>
    <li>Toute modification apportée à la configuration de l'annonce à l'aide de Video Cloud Studio supprimera les <code translate="No">client_options</code> indicateurs. Il s'agit d'un problème connu.</li>
  </ul>
</aside>

<p>Pour créer une nouvelle configuration d'annonce, envoyez une <code translate="No">POST</code> demande comme suit :</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>Méthode</th>
			<td style="width:80em;"><code class="language-http" translate="No">POST</code></td>
		</tr>
		<tr>
			<th>URL</th>
			<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/ssai/applications</code></td>
		</tr>
		<tr>
			<th rowspan="2">En-tête</th>
			<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
		</tr>
    <tr>
				<td>Type de contenu : application/json</td>
			</tr>
	</tbody>
</table>
<br>

<p>Toutes les demandes sont authentifiées à l'aide d'une clé API qui vous est fournie lors de la configuration de votre compte. La clé est passée dans l' <code translate="No">X-API-KEY</code> en-tête.</p>

<h3>Corps de la requête</h3>
<p>Pour plus de détails sur les champs du corps de la requête, consultez le <a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/CreateAdConfiguration">Référence de l'API en direct</a> document.</p>

<p>Avec Player Améliorations for Live SSAI, les champs mis en surbrillance peuvent être définis à l'intérieur de l' <code translate="No">application_ad_configuration</code> objet.</p>

<p>Corps de demande d'échantillon :</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "application_ad_configuration": {
	"ad_configuration_description": "<span class="bcls-input">your ad config description</span>",
<span class="bcls-highlight">    "ad_configuration_expected_response_type": "Vast",</span>
	"ad_configuration_headers_for_impressions": false,
	"ad_configuration_strategy": "SingleAdResponse",
	"ad_configuration_transforms": [],
	"ad_configuration_url_format": "<span class="bcls-input">your ad server</span>",
<span class="bcls-highlight">    "ad_configuration_client_sdk_enabled": true,
    "client_options": {
      "show_ad_break_remaining_time": <span class="bcls-input">true / false</span>,
      "show_ad_remaining_time": <span class="bcls-input">true / false</span>,
      "show_number_of_remaining_ads": <span class="bcls-input">true / false</span>,
      "client_only_tracking": <span class="bcls-input">true / false</span>
    }</span>
  },
  "application_description": "<span class="bcls-input">your application description</span>"
}</code></pre>

<p>Voici les champs de configuration des annonces associés aux améliorations du lecteur avec Live SSAI :</p>
<table class="bcls-table">
  <thead class="bcls-table__head">
    <tr>
      <th>Champ</th>
      <th>Type</th>
      <th>Obligatoire</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td><code translate="No">ad_configuration_expected_response_type</code></td>
      <td>Chaîne</td>
      <td>Oui</td>
      <td>Pour cette fonctionnalité, les configurations d'annonces DOIVENT avoir une valeur de <code translate="No">Vast</code></td>
    </tr>
    <tr>
      <td><code translate="No">ad_configuration_client_sdk_enabled</code></td>
      <td>Booléen</td>
      <td>Oui</td>
      <td>Pour activer cette fonctionnalité, ce champ doit avoir la valeur <code translate="No">true</code></td>
    </tr>
    <tr>
      <td><code translate="No">client_options</code></td>
      <td>Objet</td>
      <td></td>
      <td>Un objet de champs liés aux améliorations du lecteur</td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> show_ad_break_remaining_time</code></td>
      <td>Booléen</td>
      <td></td>
      <td>Temps d'affichage restant pour une pause publicitaire
        <br>
        Valeurs <code translate="No">true</code>:/<code translate="No">false</code>
      </td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> show_ad_remaining_time</code></td>
      <td>Booléen</td>
      <td></td>
      <td>Temps d'affichage restant pour une annonce
        <br>
        Valeurs <code translate="No">true</code>:/<code translate="No">false</code>
      </td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> show_number_of_remaining_ads</code></td>
      <td>Booléen</td>
      <td></td>
      <td>Afficher le nombre d'annonces restantes dans la coupure publicitaire
        <br>
        Valeurs <code translate="No">true</code>:/<code translate="No">false</code>
      </td>
    </tr>
    <tr>
      <td><code translate="No">client_options.<br> client_only_tracking</code></td>
      <td>Booléen</td>
      <td></td>
      <td>Désactiver les événements de suivi côté serveur (impressions/quartiles)
        <br>
        Valeurs <code translate="No">true</code>:/<code translate="No">false</code> 
        <br>Par défaut : <code translate="No">false</code>
        <br><br>
        <aside class="bcls-aside bcls-aside--information">Quand <code translate="No">true</code>, notre traitement normal des impressions publicitaires est contourné, et elles sont plutôt virées par le client. Cela rend les impressions plus précises / opportunes, mais nous n'avons plus de visibilité sur les événements de suivi. Les publicités côté client peuvent également être bloquées par certains bloqueurs de publicités.</aside>
      </td>
    </tr>
  </tbody>
</table>
<br>
<aside class="bcls-aside bcls-aside--tip">La totalité de la <code translate="No">client_options</code> les champs sont facultatifs.  <code translate="No">client_only_tracking</code> Seule la valeur par défaut est <code translate="No">false</code>.</aside>

<h3>Réponse</h3>
<p>Exemple de réponse :</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
  "application": {
    "application_description": "Test ad configuration",
    "application_ad_configuration": {
    "ad_configuration_description": "Ad config description",
    "ad_configuration_expected_response_type": "Vast",
    "ad_configuration_strategy": "SingleAdResponse",
    "ad_configuration_transforms": [],
    "ad_configuration_url_format": "https://solutions.brightcove.com/bcls/ads/simple-vast.xml",
    "ad_configuration_headers_for_impressions": false,
    "ad_configuration_client_sdk_enabled": true,
    "client_options": {
      "show_ad_break_remaining_time": true,
      "show_ad_remaining_time": true,
      "show_number_of_remaining_ads": true,
      "client_only_tracking": true
    }
    },
    "application_id": "1234567890abcdefghijkl",
    "application_type": "ads",
    "account_id": "001122334455aabbccddee"
  },
  "action": "inserted"
}</code></pre>

<p>Après avoir créé une configuration d'annonce, copiez l' <code translate="No">application_id</code> (ID de configuration de l'annonce) qui a été généré. Vous en aurez besoin plus tard pour trouver l'URL de lecture SSAI.</p>

<p>Pour répertorier, mettre à jour et supprimer des configurations d'annonces, consultez le <a href="https://live.support.brightcove.com/live-api/ssai/live-api-server-side-ad-insertion-ssai.html#Create_an_ad_configuration">Gérer les configurations d'annonces</a> document</p>
</section>

<section class="bcls-section">
<h2 id="Create_a_live_job">Créer un travail en direct</h2>

<p>Pour créer une tâche dynamique, envoyez une <code translate="No">POST</code> demande comme suit :</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>Méthode</th>
			<td style="width:80em;"><code class="language-http" translate="No">POST</code></td>
		</tr>
		<tr>
			<th>URL</th>
			<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs</code></td>
		</tr>
		<tr>
			<th rowspan="2">En-têtes</th>
			<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
		</tr>
    <tr>
				<td>Type de contenu : application/json</td>
			</tr>
	</tbody>
</table>

<h3>Corps de la requête</h3>

<p>Pour plus de détails sur les champs du corps de la requête, consultez le <a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/CreateALiveJob">Référence de l'API en direct</a> document.</p>

<p>Pour un travail en direct avec SSAI activé, définissez <code translate="No">ad_insertion: true</code> dans le corps de votre requête HTTP.</p>

<details>
  <summary>Exemple de demande (vidéo Video Cloud)</summary>
  <p>Pour créer une vidéo Video Cloud à utiliser pour votre diffusion en direct et pour créer des clips VOD à partir du flux en direct, incluez le <code translate="No">videocloud</code> objet dans le corps de la requête. Pour plus de détails, consultez l' <a href="https://live.support.brightcove.com/live-api/guides/live-api-creating-vod-clips.html">API Live : Création d'un</a> document VOD Clips.</p>
  <p>Le champ en surbrillance ci-dessous est nécessaire pour l'insertion d'annonces côté serveur (SSAI).</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "live_stream": true,
  <span class="bcls-highlight">"ad_insertion": true,</span>
  "region": "us-west-2",
  "reconnect_time": 1800,
  "outputs": [{
      "label": "hls720p",
      "live_stream": true,
      "width": 1280,
      "height": 720,
      "video_codec": "h264",
      "h264_profile": "high",
      "video_bitrate": 2100,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls540p",
      "live_stream": true,
      "width": 960,
      "height": 540,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 1500,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls360p",
      "live_stream": true,
      "width": 640,
      "height": 360,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 800,
      "segment_seconds": 4,
      "keyframe_interval": 60
    }
  ],
  "videocloud": {
    "video": {
      "name": "Live SSAI VideoCloud Asset",
      "description": "",
      "long_description": "",
      "tags": [],
      "reference_id": "live_ssai_vc_asset",
      "link": {
      "url": "",
      "text": ""
    },
    "schedule": {
      "starts_at": null,
      "ends_at": null
    },
    "custom_fields": {}
    }
  }
}</code></pre>
</details>
<br>

<details>
  <summary>Demande d'échantillon (vidéo à distance)</summary>
  <p>Pour utiliser une vidéo distante pour votre diffusion en direct, le corps de votre requête doit ressembler à ceci.</p>
  <p>Le champ en surbrillance ci-dessous est nécessaire pour l'insertion d'annonces côté serveur (SSAI).</p>

  <pre class="line-numbers">
<code class="language-json" translate="No">{
  "live_stream":true,
  <span class="bcls-highlight">"ad_insertion":true,</span>
  "region":"us-west-2",
  "reconnect_time":1800,
  "outputs":[
    {
      "label": "hls720p",
      "live_stream": true,
      "width": 1280,
      "height": 720,
      "video_codec": "h264",
      "h264_profile": "high",
      "video_bitrate": 2100,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls540p",
      "live_stream": true,
      "width": 960,
      "height": 540,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 1500,
      "segment_seconds": 4,
      "keyframe_interval": 60
    },
    {
      "label": "hls360p",
      "live_stream": true,
      "width": 640,
      "height": 360,
      "video_codec": "h264",
      "h264_profile": "main",
      "video_bitrate": 800,
      "segment_seconds": 4,
      "keyframe_interval": 60
    }
  ]
}</code></pre>
</details>
<br>


<p>Autres ressources utiles :</p>

<ul>
	<li><a href="https://live.support.brightcove.com/live-api/getting-started/overview-brightcove-live-api.html">Vue d'ensemble : API Live Brightcove</a></li>
	<li><a href="https://live.support.brightcove.com/live-api/getting-started/quick-start-create-live-stream-using-brightcove-live-api.html">Brève introduction : Créer un flux en direct à l'aide de l'API Brightcove Live</a></li>
</ul>

<h3>Réponse</h3>

<details>
  <summary>Exemple de réponse (vidéo Video Cloud)</summary>
  <pre class="line-numbers">
<code class="language-json" translate="No">{
 <span class="bcls-highlight">&quot;id&quot;: &quot;227356abcdefghijklmno12345&quot;,</span>
 &quot;outputs&quot;: [
  {
   &quot;id&quot;: &quot;0-2273561a201ec18&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_0/chunklist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_0/chunklist_dvr.m3u8&quot;,
   &quot;playback_url_vod&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_0/chunklist_vod.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;label&quot;: &quot;hls720p&quot;
  },
  {
   &quot;id&quot;: &quot;1-2273561a201e8c18&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_1/chunklist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_1/chunklist_dvr.m3u8&quot;,
   &quot;playback_url_vod&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_1/chunklist_vod.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;label&quot;: &quot;hls540p&quot;
  },
  {
   &quot;id&quot;: &quot;2-2273561a201ec18&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_2/chunklist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_2/chunklist_dvr.m3u8&quot;,
   &quot;playback_url_vod&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/profile_2/chunklist_vod.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;label&quot;: &quot;hls360p&quot;
  },
  {
   &quot;id&quot;: &quot;3-2273561a201ec18&quot;,
   &quot;playlist_type&quot;: &quot;defaultS3&quot;,
   &quot;type&quot;: &quot;playlist&quot;,
   &quot;filename&quot;: &quot;playlist.m3u8&quot;,
   &quot;dvr_filename&quot;: &quot;playlist_dvr.m3u8&quot;,
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist_dvr.m3u8&quot;,
   &quot;ssai_playback_urls&quot;: {
    &quot;b907ac7935e2&quot;: {
     &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_ssaiM.m3u8&quot;,
     &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_dvr_ssaiM.m3u8&quot;,
     &quot;playback_added_cdns&quot;: [],
     &quot;description&quot;: &quot;Test ad configuration for SLS&quot;,
     &quot;type&quot;: &quot;ads&quot;
    },
    &quot;dc9aa8ee3520f2&quot;: {
     &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_ssaiM.m3u8&quot;,
     &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_dvr_ssaiM.m3u8&quot;,
     &quot;playback_added_cdns&quot;: [],
     &quot;description&quot;: &quot;Test live ad config for SLS&quot;,
     &quot;type&quot;: &quot;ads&quot;
    }
   },
   &quot;playback_added_cdns&quot;: []
  }
 ],
 <span class="bcls-highlight">&quot;stream_url&quot;: &quot;rtmp://ec2-54-184-149-60.us-west-2.compute.amazonaws.com:1935/2273561a201ec18&quot;,
 &quot;stream_name&quot;: &quot;alive&quot;,</span>
 &quot;static&quot;: false,
 <span class="bcls-highlight">&quot;job_videocloud_asset_id&quot;: &quot;6227380655001&quot;,</span>
 &quot;encryption&quot;: {},
 &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist.m3u8&quot;,
 &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/playlist_dvr.m3u8&quot;,
 &quot;ssai_playback_urls&quot;: {
  &quot;b907ac7935e2&quot;: {
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_ssaiM.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/b907ac7935e2/playlist_dvr_ssaiM.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;description&quot;: &quot;Test ad configuration for SLS&quot;,
   &quot;type&quot;: &quot;ads&quot;
  },
  &quot;dc9aa8ee3520f2&quot;: {
   &quot;playback_url&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_ssaiM.m3u8&quot;,
   &quot;playback_url_dvr&quot;: &quot;https://bcovlive-a.akamaihd.net/2273561a201ec18/us-west-2/NA/dc9aa8ee3520f2/playlist_dvr_ssaiM.m3u8&quot;,
   &quot;playback_added_cdns&quot;: [],
   &quot;description&quot;: &quot;Test live ad config for SLS&quot;,
   &quot;type&quot;: &quot;ads&quot;
  }
 },
 &quot;playback_added_cdns&quot;: []
}</code></pre>
</details>
<br>

<details>
  <summary>Exemple de réponse (vidéo à distance)</summary>
  <pre class="line-numbers">
<code class="language-json" translate="No">{
 <span class="bcls-highlight">"id": "bbccddeeffgghhiijjkk0011223344",</span>
 "outputs": [
  {
   "id": "0-bbccddeeffgghhiijjkk0011223344",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_0/chunklist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_0/chunklist_dvr.m3u8",
   "playback_url_vod": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_0/chunklist_vod.m3u8",
   "playback_added_cdns": [],
   "label": "hls720p"
  },
  {
   "id": "1-bbccddeeffgghhiijjkk0011223344",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_1/chunklist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_1/chunklist_dvr.m3u8",
   "playback_url_vod": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_1/chunklist_vod.m3u8",
   "playback_added_cdns": [],
   "label": "hls540p"
  },
  {
   "id": "2-bbccddeeffgghhiijjkk0011223344",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_2/chunklist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_2/chunklist_dvr.m3u8",
   "playback_url_vod": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/profile_2/chunklist_vod.m3u8",
   "playback_added_cdns": [],
   "label": "hls360p"
  },
  {
   "id": "3-bbccddeeffgghhiijjkk0011223344",
   "playlist_type": "defaultS3",
   "type": "playlist",
   "filename": "playlist.m3u8",
   "dvr_filename": "playlist_dvr.m3u8",
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist_dvr.m3u8",
   "ssai_playback_urls": {
    "91bc2d5ff4a4441db34c2457c751c3ca": {
     "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_ssaiM.m3u8",
     "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_dvr_ssaiM.m3u8",
     "playback_added_cdns": [],
     "description": "Test ad configuration",
     "type": "ads"
    },
    "e7f6e9a3022a45e1b0b322ba57399150": {
     "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/e7f6e9a3022a45e1b0b322ba57399150/playlist_ssaiM.m3u8",
     "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/e7f6e9a3022a45e1b0b322ba57399150/playlist_dvr_ssaiM.m3u8",
     "playback_added_cdns": [],
     "description": "House Ads - 0077db20eb444b5daa7487438c90a271",
     "type": "ads"
    }
   }
  }
 ],
 <span class="bcls-highlight">"stream_url": "rtmp://ep4-usw2.bcovlive.io:1935/bbccddeeffgghhiijjkk0011223344",
 "stream_name": "alive",</span>
 "static": false,
 "encryption": {},
 "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist.m3u8",
 "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/playlist_dvr.m3u8",
 "ssai_playback_urls": {
  "91bc2d5ff4a4441db34c2457c751c3ca": {
   "playback_url": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_ssaiM.m3u8",
   "playback_url_dvr": "https://bcovlive-a.akamaihd.net/bbccddeeffgghhiijjkk0011223344/us-west-2/NA/91bc2d5ff4a4441db34c2457c751c3ca/playlist_dvr_ssaiM.m3u8",
   "playback_added_cdns": [],
   "description": "Test ad configuration",
   "type": "ads"
  }
 }
}</code></pre>
</details>
<br>

<p>À partir de la réponse de l'API, notez les valeurs de champ suivantes pour l'étape suivante :</p>
<ul>
  <li><code translate="No">id</code>- Votre identifiant de travail en direct</li>
  <li><code translate="No">stream_url</code>, <code translate="No">stream_name</code>- Entrées pour votre encodeur de flux en direct</li>
  <li><code translate="No">job_videocloud_asset_id</code>- ID vidéo Video Cloud</li>
</ul>

<!-- <p>From the API response, make note of the job <code translate="No">id</code> and the <code translate="No">stream_url</code> properties. You will need these later.</p>

<p>In the response body, there will be an object containing SSAI information for each ad configuration in your account. The sample above shows the object for one ad configuration. This should be the ad configuration id you created in the previous step.</p>

<p>The <code translate="No">playback_url</code> or <code translate="No">playback_url_dvr</code> field associated with your ad configuration id is used in the next step to create a remote video asset.</p>
<p>Playback URLs:</p>
<ul>
  <li>URLs with either <code translate="No">playlist.m3u8</code> or <code translate="No">playlist_dvr.m3u8</code> provide non-SSAI playback</li>
  <li>URLs with either <code translate="No">playlist_ssaiM.m3u8</code> or <code translate="No">playlist_dvr_ssaiM.m3u8</code> provide SSAI playback</li>
</ul> -->
</section>

<!-- <section class="bcls-section">
<h2 id="Create_a_remote_video">Create a remote video</h2>

<p>In Video Cloud, you will create a remote video which points to your live stream. For this step, you will need the <code translate="No">playback_url</code> or <code translate="No">playback_url_dvr</code> from the previous step.</p>

<p>There are two ways to create a remote video:</p>

<ul>
	<li><a href="https://studio.support.brightcove.com/media/working-remote-asset-videos.html">Working with Remote Asset Videos</a></li>
	<li><a href="https://apis.support.brightcove.com/cms/managing-videos/using-cms-api-remote-assets.html">Remote Assets using the CMS API</a></li>
</ul>
</section> -->

<section class="bcls-section">
<h2 id="Create_the_playback_token">Créer le jeton de lecture</h2>
<p>Vous aurez besoin du jeton de lecture avec votre lecteur.</p>
<p>Pour créer le jeton de lecture, envoyez une <code translate="No">POST</code> requête comme suit :</p>

<table class="bcls-table">
	<tbody class="bcls-table__body">
		<tr>
			<th>Méthode</th>
			<td style="width:80em;"><code class="language-http" translate="No">POST</code></td>
		</tr>
		<tr>
			<th>URL</th>
			<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">your live job id</span>/playback-token</code></td>
		</tr>
		<tr>
			<th rowspan="2">En-têtes</th>
			<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
		</tr>
    <tr>
				<td>Type de contenu : application/json</td>
			</tr>
	</tbody>
</table>

<h4>Corps de la requête</h4>
<p>Corps de demande d'échantillon :</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
   "dvr":true / false,
   "application_id":"<span class="bcls-input">your ad config id</span>"
}</code></pre>

<h4>Réponse</h4>
<p>Exemple de réponse :</p>

<pre class="line-numbers">
<code class="language-json" translate="No">{
 "playback_token": "live.JhQabcdefghijkl000000000abcdefghi"
}</code></pre>

<p>Le corps de la réponse inclura un jeton de lecture généré. Utilisez cette option lors d'un appel d'API de lecture avec votre lecteur.</p>
</section>

<section class="bcls-section">
<h2 id="Configure_the_player">Configurer le lecteur</h2>

<p>Le processus de lecture de votre flux en direct à partir de l'API Playback est légèrement différent de la façon dont vous lisez une vidéo Video Cloud normale. En plus de fournir l'identifiant vidéo (id de référence), vous devez inclure un jeton de lecture qui identifie la configuration de l'annonce que vous souhaitez utiliser. Vous devrez également spécifier si vous voulez la lecture DVR.</p>

<h3>Lecteur Web</h3>

<p>Pour plus de détails sur la configuration du Brightcove Player, consultez le <a href="https://player.support.brightcove.com/advertising/using-player-enhancements-live-ssai-brightcove-player.html">Utilisation des améliorations de lecteur pour Live SSAI avec Brightcove Player</a> document.</p>

<h3>Lecteur Android natif</h3>

<p>Pour plus de détails sur la configuration de Native Player pour Android, consultez le <a href="https://sdks.support.brightcove.com/features/using-player-enhancements-live-ssai-native-sdks.html">Utilisation des améliorations de lecteur pour Live SSAI avec les SDK natifs</a> document.</p>

<h3>Lecteur iOS natif</h3>

<p>Pour plus de détails sur la configuration de Native Player pour iOS, consultez le <a href="https://sdks.support.brightcove.com/features/using-player-enhancements-live-ssai-native-sdks.html">Utilisation des améliorations de lecteur pour Live SSAI avec les SDK natifs</a> document.</p>
</section>

<section class="bcls-section">
<h2 id="Begin_streaming">Commencer le streaming</h2>

<p>Il existe de nombreux outils pour créer un événement de streaming en direct. Voici quelques encodeurs que vous pouvez utiliser pour produire un flux en direct livré par un CDN :</p>

<ul>
	<li><a href="https://support.brightcove.com/quick-start-create-live-stream-using-brightcove-live-api#wirecast">Encodeur Wirecast Telestream</a></li>
	<li><a href="https://support.brightcove.com/step-step-using-live-module-open-broadcaster-software-obs#encoder">Encodeur OBS Studio</a></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Cleanup">Nettoyage</h2>

<p>Lorsque votre flux en direct est terminé, vous pouvez nettoyer les artefacts de votre flux comme suit :</p>

<ol class="bcls-tasklist-restart">
	<li>Arrêtez votre encodeur de streaming</li>
	<li>
	<p>Annuler le travail en direct.</p>

	<aside class="bcls-aside bcls-aside--information">La tâche en direct n'est disponible que pendant l'heure de reconnexion spécifiée lors de la création de la tâche.</aside>

	<p>Pour annuler une tâche en cours, envoyez une <code translate="No">PUT</code> demande comme suit :</p>

	<table class="bcls-table">
		<tbody class="bcls-table__body">
			<tr>
				<th>Méthode</th>
				<td style="width:80em;"><code class="language-http" translate="No">PUT</code></td>
			</tr>
			<tr>
				<th>URL</th>
				<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">your live job id</span>/cancel</code></td>
			</tr>
			<tr>
				<th rowspan="2">En-têtes</th>
				<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
			</tr>
      <tr>
				<td>Type de contenu : application/json</td>
			</tr>
		</tbody>
	</table>
  <br>

	<p>Pour plus de détails, consultez le <a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/CancelLiveJob">Référence de l'API en direct</a> document.</p>
	</li>
	<li>
	<p>Supprimer la configuration de votre annonce</p>

	<p>Pour supprimer une configuration d'annonce, envoyez une <code translate="No">DELETE</code> demande comme suit :</p>

	<table class="bcls-table">
		<tbody class="bcls-table__body">
			<tr>
				<th>Méthode</th>
				<td style="width:80em;"><code class="language-http" translate="No">PUT</code></td>
			</tr>
			<tr>
				<th>URL</th>
				<td><code class="language-http" translate="No">https://api.bcovlive.io/v1/ssai/applications/application/<span class="bcls-input">your ad config id</span></code></td>
			</tr>
			<tr>
				<th rowspan="2">En-têtes</th>
				<td><code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">your API KEY</span></code></td>
			</tr>
      <tr>
				<td>Type de contenu : application/json</td>
			</tr>
		</tbody>
	</table>
  <br>

	<p>Pour plus de détails, consultez le <a href="https://live.support.brightcove.com/live-api/references/reference.html#operation/DeleteAdConfiguration">Référence de l'API en direct</a> document.</p>
	</li>
</ol>
</section>
</article>